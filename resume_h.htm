// Function to display resume data on the page
function displayResume(data) {
    const resumeDiv = document.getElementById('resume');
    
    // Function to replace newlines with HTML breaks
    function formatText(text) {
        // Replace double newlines with paragraph breaks
        let formattedText = text.replace(/\n\n/g, '<br><br>');
        // Replace single newlines with line breaks
        formattedText = formattedText.replace(/\n/g, '<br>');
        return formattedText;
    }
    
    // Adding work information
    if (data.work) {
        const workSection = document.createElement('section');
        workSection.innerHTML = '<h2>Experience</h2>';
        data.work.forEach(job => {
            const summary = formatText(job.summary);
            workSection.innerHTML += `<div><strong>${job.position}</strong> at ${job.company}</div>
                                      <div>${job.startDate} - ${job.endDate}</div>
                                      <p>${summary}</p>`;
        });
        resumeDiv.appendChild(workSection);
    }

    // Adding educational information
    if (data.education) {
        const eduSection = document.createElement('section');
        eduSection.innerHTML = '<h2>Education</h2>';
        data.education.forEach(edu => {
            const eduDetails = formatText(edu.studyType); // Assuming studyType might have newlines for the sake of example
            eduSection.innerHTML += `<div><strong>${edu.institution}</strong>, ${edu.area}</div>
                                     <div>${edu.startDate} - ${edu.endDate}</div>
                                     <p>Degree: ${eduDetails}</p>`;
        });
        resumeDiv.appendChild(eduSection);
    }

    // Adding language information
    if (data.languages) {
        const langSection = document.createElement('section');
        langSection.innerHTML = '<h2>Languages</h2><ul>';
        data.languages.forEach(lang => {
            langSection.innerHTML += `<li>${lang.language} (${lang.fluency})</li>`;
        });
        langSection.innerHTML += '</ul>';
        resumeDiv.appendChild(langSection);
    }
}
